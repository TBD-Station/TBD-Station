- type: entity
  id: ActionAnimateSpell
  name: Animate
  description: Bring an inanimate object to life!
  components:
  - type: EntityTargetAction
    useDelay: 1
    itemIconStyle: BigAction
    whitelist:
      components:
      - Animateable
    blacklist:
      components:
      - MindContainer
    canTargetSelf: false
    interactOnMiss: false
    sound: !type:SoundPathSpecifier
      path: /Audio/Magic/staff_animation.ogg
    icon:
      sprite: Objects/Magic/magicactions.rsi
      state: spell_default
    event: !type:AnimateSpellEvent
      addComponents:
      - type: MindContainer
      - type: InputMover
      - type: MobMover
      - type: MovementSpeedModifier
      - type: Speech
      - type: Emoting
      - type: Examiner
      - type: HTN
        rootTask:
          task: SimpleHostileCompound
      - type: CombatMode
      - type: MeleeWeapon
        animation: WeaponArcPunch
        wideAnimation: WeaponArcPunch
        altDisarm: false
        soundHit: /Audio/Weapons/smash.ogg
        range: 1.2
        angle: 0.0
        damage:
          types:
            Blunt: 10
      - type: NpcFactionMember
        factions:
        - Wizard
      - type: NoSlip
      - type: MovementAlwaysTouching
      - type: CanMoveInAir
      - type: Damageable
        damageContainer: ManifestedSpirit
        damageModifierSet: ManifestedSpirit
      - type: Destructible
        thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 100
          behaviors:
          - !type:DoActsBehavior
          acts: [ "Destruction" ]
      removeComponents:
      - RequireProjectileTarget
      speech: action-speech-spell-animate
