# non-projectile / "gun" staves

# wand that gives lights an RGB effect.
- type: entity
  id: RGBStaff
  parent: BaseItem
  name: RGB staff
  description: Helps fix the underabundance of RGB gear on the station.
  components:
  - type: Sprite
    sprite: Objects/Weapons/Guns/Basic/staves.rsi
    layers:
    - state: nothing
    - state: nothing-unshaded
      shader: unshaded
  - type: ActionOnInteract
    actions:
    - ActionRgbLight
  - type: Item
    size: Normal
    inhandVisuals:
      left:
      - state: staff-inhand-left
      - state: staff-inhand-left-unshaded
        shader: unshaded
      right:
      - state: staff-inhand-right
      - state: staff-inhand-right-unshaded
        shader: unshaded
  - type: RgbLightController
  - type: PointLight
    enabled: true
    radius: 2

- type: entity
  id: ActionRgbLight
  components:
  - type: EntityTargetAction
    whitelist: { components: [ PointLight ] }
    charges: 25
    sound: /Audio/Magic/blink.ogg
    event: !type:ChangeComponentsSpellEvent
      toAdd:
      - type: RgbLightController

# TODO: Activate on hit/click

# TODO: Add stun
- type: entity
  id: Mjollnir
  parent: BaseItem
  name: Mjollnir
  description: A weapon worthy of a god, able to strike with the force of a lightning bolt. It crackles with barely contained energy.
  components:
  - type: Wieldable
  - type: Sprite
    sprite: Objects/Weapons/Melee/mjollnir.rsi
    layers:
    - state: icon
  - type: RepulseAttract
    strength: 5
    range: 3
    useDelay: 10
  - type: MeleeWeapon
    wideAnimationRotation: -135
    damage:
      types:
        Blunt: 5
        Structural: 5
    soundHit:
      collection: MetalThud
  - type: IncreaseDamageOnWield
    damage:
      types:
        Blunt: 20
        Structural: 25
  - type: Item
    size: Ginormous

# TODO: Change sound
- type: entity
  id: SingularityHammer
  parent: BaseItem
  name: Singularity Hammer
  description: The pinnacle of close combat technology, the hammer harnesses the power of a miniaturized singularity to deal crushing blows.
  components:
  - type: Wieldable
  - type: Sprite
    sprite: Objects/Weapons/Melee/singularityhammer.rsi
    layers:
    - state: icon
  - type: RepulseAttract
    strength: 5
    range: 3
    useDelay: 10
    attract: true
  - type: MeleeWeapon
    wideAnimationRotation: -135
    damage:
      types:
        Blunt: 5
        Structural: 5
    soundHit:
      collection: MetalThud
  - type: IncreaseDamageOnWield
    damage:
      types:
        Blunt: 15
        Structural: 15
  - type: Item
    size: Ginormous
