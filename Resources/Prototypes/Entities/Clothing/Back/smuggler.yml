- type: entity
  id: SubfloorAnchorStorageBase
  abstract: true
  components:
  - type: SubFloorHide
  - type: Anchorable
  - type: CollideOnAnchor
    enable: false
  - type: Transform
    anchored: false
  - type: AnchoredStorageFilter
    blacklist:
      components:
      - HumanoidAppearance # for forks with felines
  - type: BlockAnchorOn
    blacklist:
      components:
      - AnchoredStorageFilter

- type: entity
  parent: SubfloorAnchorStorageBase
  id: AnchoredSubfloorAnchorStorageBase
  abstract: true
  placement:
    mode: SnapgridCenter
  components:
  - type: Transform
    anchored: true
  - type: Physics
    canCollide: false
    bodyType: Static

- type: entity
  parent: [ClothingBackpackSatchel, SubfloorAnchorStorageBase]
  id: ClothingBackpackSatchelSmuggler
  name: Smuggler's Satchel
  description: A dingy, suspicious looking satchel.
  suffix: Empty
  components:
  - type: Sprite
    sprite: Clothing/Back/Satchels/smuggler.rsi
    state: icon

- type: entity
  parent: [AnchoredSubfloorAnchorStorageBase, BriefcaseSyndie]
  id: BriefcaseSmugglerCash
  suffix: Smuggler, Do Not Map
  components:
  - type: EntityTableContainerFill
    containers:
      storagebase: !type:AllSelector
        children:
        - id: SpaceCash5000
          amount: !type:RangeNumberSelector
            range: 1, 12

- type: entity
  parent: [AnchoredSubfloorAnchorStorageBase, ClothingBackpackDuffelClown]
  id: ClothingBackpackDuffelClownSmuggler
  suffix: Smuggler, Do Not Map
  components:
  - type: EntityTableContainerFill
    containers:
      storagebase: !type:AllSelector
        children:
        - !type:GroupSelector
          children:
          - id: RevolverCapGun
            amount: !type:RangeNumberSelector
              range: 1, 4
          - id: RevolverCapGunFake
            amount: !type:RangeNumberSelector
              range: 4, 8
        - id: SpeedLoaderCap
          amount: !type:RangeNumberSelector
            range: 4, 8

# anchored standard stash
- type: entity
  parent: [AnchoredSubfloorAnchorStorageBase, ClothingBackpackSatchelSmuggler]
  id: ClothingBackpackSatchelSmugglerFilled
  suffix: Smuggler, Do Not Map
  components:
  - type: Sprite
    sprite: Clothing/Back/Satchels/smuggler.rsi
    state: icon
  - type: EntityTableContainerFill
    containers:
      storagebase: !type:NestedSelector
        tableId: FillSmugglerBackpack

- type: entity
  id: RandomSatchel
  name: random smuggler's satchel spawner
  parent: MarkerBase
  suffix: Do Not Map
  components:
  - type: Sprite
    layers:
      - state: red
      - sprite: Clothing/Back/Satchels/smuggler.rsi
        state: icon
  - type: EntityTableSpawner
    table: !type:NestedSelector
      tableId: RandomSatchelTable
